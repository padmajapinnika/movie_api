<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        h1, h2, h3 {
            color: #3623a3;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
        }
        code {
            background-color: #e0e0e0;
            padding: 5px;
        }
        .route-section {
            margin-bottom: 20px;
        }
        .route-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .response-example {
            color: #007BFF;
        }
    </style>
</head>
<body>
<h1>API Documentation</h1>
<p>Welcome to the API documentation! This guide explains how to interact with the MyFlix app's API. It covers all available routes for managing users, movies, and more.</p>

<!-- Route: GET /movies -->
<div class="route-section">
    <h2>1. GET /movies</h2>
    <p><strong>Description:</strong> Retrieves a list of all movies in the database.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Response Example:</strong></p>
    <pre>
[
{
"_id": "12345",
"Title": "Inception",
"Genre": "Sci-Fi",
"Director": "Christopher Nolan",
"Year": 2010,
"Description": "A mind-bending thriller about dreams.",
"Rating": 8.8
},
{
"_id": "12346",
"Title": "The Matrix",
"Genre": "Action",
"Director": "The Wachowskis",
"Year": 1999,
"Description": "A computer hacker learns the truth about his reality.",
"Rating": 8.7
}
]
    </pre>
</div>

<!-- Route: GET /users -->
<div class="route-section">
    <h2>2. GET /users</h2>
    <p><strong>Description:</strong> Retrieves a list of all users in the database.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Response Example:</strong></p>
    <pre>
[
{
"_id": "abc123",
"Username": "Amrutha",
"Email": "Amrutha@gmail.com",
"Birthday": "1990-07-09",
"FavoriteMovies": ["12345", "12346"]
}
]
    </pre>
</div>

<!-- Route: GET /movies/:title -->
<div class="route-section">
    <h2>3. GET /movies/:title</h2>
    <p><strong>Description:</strong> Retrieves a movie by its title.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Request Example:</strong></p>
    <pre>GET /movies/Inception</pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"_id": "12345",
"Title": "Inception",
"Genre": "Sci-Fi",
"Director": "Christopher Nolan",
"Year": 2010,
"Description": "A mind-bending thriller about dreams.",
"Rating": 8.8
}
    </pre>
</div>

<!-- Route: GET /genre/:name -->
<div class="route-section">
    <h2>4. GET /genre/:name</h2>
    <p><strong>Description:</strong> Retrieves a genre by name and its description.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Request Example:</strong></p>
    <pre>GET /genre/Sci-Fi</pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"Genre": "Sci-Fi",
"Description": "Science fiction films explore speculative concepts such as futuristic technology, time travel, and space exploration."
}
    </pre>
</div>

<!-- Route: GET /director/:name -->
<div class="route-section">
    <h2>5. GET /director/:name</h2>
    <p><strong>Description:</strong> Retrieves director details by their name.</p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Request Example:</strong></p>
    <pre>GET /director/Christopher%20Nolan</pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"Director": "Christopher Nolan",
"Bio": "Christopher Nolan is a British-American filmmaker known for his complex storytelling.",
"BirthYear": 1970,
"DeathYear": "N/A"
}
    </pre>
</div>

<!-- Route: POST /users -->
<div class="route-section">
    <h2>6. POST /users</h2>
    <p><strong>Description:</strong> Creates a new user in the database.</p>
    <p><strong>Method:</strong> POST</p>
    <p><strong>Request Body:</strong></p>
    <pre>
{
"Username": "Amrutha",
"password": "12345",
"email": "Amrutha@gmail.com",
"Birthday": "1990-07-09"
}
    </pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"_id": "abc123",
"Username": "Amrutha",
"Email": "Amrutha@gmail.com",
"Birthday": "1990-07-09",
"FavoriteMovies": []
}
    </pre>
</div>

<!-- Route: PUT /users/:Username -->
<div class="route-section">
    <h2>7. PUT /users/:Username</h2>
    <p><strong>Description:</strong> Updates the user's information.</p>
    <p><strong>Method:</strong> PUT</p>
    <p><strong>Request Body:</strong></p>
    <pre>
{
"Username": "Amrutha",
"password": "newpassword123",
"email": "newemail@gmail.com",
"Birthday": "1990-07-09"
}
    </pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"_id": "abc123",
"Username": "Amrutha",
"Email": "newemail@gmail.com",
"Birthday": "1990-07-09",
"FavoriteMovies": ["12345"]
}
    </pre>
</div>

<!-- Route: POST /users/:Username/movies/:MovieID -->
<div class="route-section">
    <h2>8. POST /users/:Username/movies/:MovieID</h2>
    <p><strong>Description:</strong> Adds a movie to a user's list of favorite movies.</p>
    <p><strong>Method:</strong> POST</p>
    <p><strong>Request Example:</strong></p>
    <pre>POST /users/Amrutha/movies/12345</pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"_id": "abc123",
"Username": "Amrutha",
"FavoriteMovies": ["12345"]
}
    </pre>
</div>

<!-- Route: DELETE /users/:Username/movies/:MovieID -->
<div class="route-section">
    <h2>9. DELETE /users/:Username/movies/:MovieID</h2>
    <p><strong>Description:</strong> Removes a movie from the user's favorite movies list.</p>
    <p><strong>Method:</strong> DELETE</p>
    <p><strong>Request Example:</strong></p>
    <pre>DELETE /users/Amrutha/movies/12345</pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"_id": "abc123",
"Username": "Amrutha",
"FavoriteMovies": []
}
    </pre>
</div>

<!-- Route: DELETE /users/:Username -->
<div class="route-section">
    <h2>10. DELETE /users/:Username</h2>
    <p><strong>Description:</strong> Deletes a user from the database.</p>
    <p><strong>Method:</strong> DELETE</p>
    <p><strong>Request Example:</strong></p>
    <pre>DELETE /users/Amrutha</pre>
    <p><strong>Response Example:</strong></p>
    <pre>
{
"message": "User deregistered successfully"
}
    </pre>
</div>
</body>
</html>
